import{c as qe,u as Ee,U as De,j as t,H as Ue}from"./app-Cej10E3O.js";import{B as Pe}from"./createLucideIcon-BgVc6Hot.js";import{I as O}from"./input-DvsjLBsu.js";import{L as n}from"./label-DqlNtHPN.js";import{T as Be}from"./textarea-atjTz7UU.js";import{S as Ke}from"./switch-BEk25Oa5.js";import{A as Me,t as Re}from"./app-layout-SVK9y9af.js";import{S as Te}from"./sweetalert2.esm.all-NNS-RXd7.js";import{X as We}from"./index-DdcgWVWY.js";/* empty css            */import"./index-CU3jzwCX.js";import"./index-Cix3gUUA.js";import"./index-CnQ-pfKV.js";import"./malogo-DU1dCDkW.js";import"./index-BWeyt2vI.js";import"./index-CMWG4mbA.js";import"./loader-circle-CW5OcCCs.js";import"./minus-nI1ca6Xa.js";const $e=[{title:"Dashboard",href:"/dashboard"},{title:"Press Release",href:"/press-release"},{title:"Edit Press Release",href:"#"}];function ct(Ae){const e=qe.c(144),{release:l,isAdmin:je}=Ae;console.log("Release data:",l);const ge=l.pemberi_kutipan??"",_e=l.isi_kutipan??"";let Q;e[0]!==l.how||e[1]!==l.status||e[2]!==l.what||e[3]!==l.when||e[4]!==l.where||e[5]!==l.who||e[6]!==l.why||e[7]!==ge||e[8]!==_e?(Q={what:l.what,who:l.who,when:l.when,where:l.where,why:l.why,how:l.how,pemberi_kutipan:ge,isi_kutipan:_e,status:l.status,foto1:null,foto2:null,foto3:null,foto4:null,foto5:null,_method:"PUT"},e[0]=l.how,e[1]=l.status,e[2]=l.what,e[3]=l.when,e[4]=l.where,e[5]=l.who,e[6]=l.why,e[7]=ge,e[8]=_e,e[9]=Q):Q=e[9];const{data:i,setData:s,post:be,processing:ye,errors:a}=Ee(Q);let V;e[10]===Symbol.for("react.memo_cache_sentinel")?(V={},e[10]=V):V=e[10];const[ve,Ne]=De.useState(V);let Z;e[11]!==l.fotos?(Z=l.fotos&&l.fotos.length>0?l.fotos[0]:{foto1:null,foto2:null,foto3:null,foto4:null,foto5:null},e[11]=l.fotos,e[12]=Z):Z=e[12];const ke=Z;let ee;e[13]!==s?(ee=(r,o)=>{const c=r.target.files?.[0]||null;if(s(o,c),c){const h=new FileReader;h.onloadend=()=>{Ne(Y=>({...Y,[o]:h.result}))},h.readAsDataURL(c)}else Ne(h=>{const Y={...h};return delete Y[o],Y})},e[13]=s,e[14]=ee):ee=e[14];const Se=ee;let te;e[15]!==s?(te=r=>{s(r,null),Ne(o=>{const c={...o};return delete c[r],c})},e[15]=s,e[16]=te):te=e[16];const Fe=te;let se;e[17]!==be||e[18]!==l.id?(se=async r=>{r.preventDefault(),(await Te.fire({title:"Konfirmasi Update",text:"Apakah Anda yakin ingin mengupdate press release ini?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3b82f6",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Update!",cancelButtonText:"Batal"})).isConfirmed&&be(`/press-release/${l.id}`,{onSuccess:Ge,onError:Le})},e[17]=be,e[18]=l.id,e[19]=se):se=e[19];const Ce=se;let le;e[20]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(Ue,{title:"Edit Press Release"}),e[20]=le):le=e[20];let ae;e[21]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx("h1",{className:"text-2xl font-bold",children:"Edit Press Release"}),e[21]=ae):ae=e[21];let m;e[22]!==i.status||e[23]!==je||e[24]!==s?(m=je&&t.jsxs("div",{className:"flex items-center space-x-2 p-4 bg-muted rounded-lg",children:[t.jsx(Ke,{id:"status",checked:i.status,onCheckedChange:r=>s("status",r)}),t.jsxs(n,{htmlFor:"status",className:"cursor-pointer",children:["Status: ",i.status?"Selesai":"Pending"]})]}),e[22]=i.status,e[23]=je,e[24]=s,e[25]=m):m=e[25];let ie;e[26]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(n,{htmlFor:"what",children:"What (Apa) *"}),e[26]=ie):ie=e[26];let d;e[27]!==s?(d=r=>s("what",r.target.value),e[27]=s,e[28]=d):d=e[28];let p;e[29]!==i.what||e[30]!==d?(p=t.jsx(O,{id:"what",value:i.what,onChange:d,placeholder:"Apa yang terjadi?",required:!0}),e[29]=i.what,e[30]=d,e[31]=p):p=e[31];let u;e[32]!==a.what?(u=a.what&&t.jsx("p",{className:"text-sm text-red-500",children:a.what}),e[32]=a.what,e[33]=u):u=e[33];let f;e[34]!==p||e[35]!==u?(f=t.jsxs("div",{className:"space-y-2",children:[ie,p,u]}),e[34]=p,e[35]=u,e[36]=f):f=e[36];let re;e[37]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(n,{htmlFor:"who",children:"Who (Siapa) *"}),e[37]=re):re=e[37];let w;e[38]!==s?(w=r=>s("who",r.target.value),e[38]=s,e[39]=w):w=e[39];let x;e[40]!==i.who||e[41]!==w?(x=t.jsx(O,{id:"who",value:i.who,onChange:w,placeholder:"Siapa yang terlibat?",required:!0}),e[40]=i.who,e[41]=w,e[42]=x):x=e[42];let j;e[43]!==a.who?(j=a.who&&t.jsx("p",{className:"text-sm text-red-500",children:a.who}),e[43]=a.who,e[44]=j):j=e[44];let g;e[45]!==x||e[46]!==j?(g=t.jsxs("div",{className:"space-y-2",children:[re,x,j]}),e[45]=x,e[46]=j,e[47]=g):g=e[47];let oe;e[48]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(n,{htmlFor:"when",children:"When (Kapan) *"}),e[48]=oe):oe=e[48];let _;e[49]!==s?(_=r=>s("when",r.target.value),e[49]=s,e[50]=_):_=e[50];let b;e[51]!==i.when||e[52]!==_?(b=t.jsx(O,{id:"when",value:i.when,onChange:_,placeholder:"Kapan terjadi?",required:!0}),e[51]=i.when,e[52]=_,e[53]=b):b=e[53];let y;e[54]!==a.when?(y=a.when&&t.jsx("p",{className:"text-sm text-red-500",children:a.when}),e[54]=a.when,e[55]=y):y=e[55];let v;e[56]!==b||e[57]!==y?(v=t.jsxs("div",{className:"space-y-2",children:[oe,b,y]}),e[56]=b,e[57]=y,e[58]=v):v=e[58];let ne;e[59]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(n,{htmlFor:"where",children:"Where (Dimana) *"}),e[59]=ne):ne=e[59];let N;e[60]!==s?(N=r=>s("where",r.target.value),e[60]=s,e[61]=N):N=e[61];let k;e[62]!==i.where||e[63]!==N?(k=t.jsx(O,{id:"where",value:i.where,onChange:N,placeholder:"Dimana terjadi?",required:!0}),e[62]=i.where,e[63]=N,e[64]=k):k=e[64];let S;e[65]!==a.where?(S=a.where&&t.jsx("p",{className:"text-sm text-red-500",children:a.where}),e[65]=a.where,e[66]=S):S=e[66];let F;e[67]!==k||e[68]!==S?(F=t.jsxs("div",{className:"space-y-2",children:[ne,k,S]}),e[67]=k,e[68]=S,e[69]=F):F=e[69];let C;e[70]!==f||e[71]!==g||e[72]!==v||e[73]!==F?(C=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f,g,v,F]}),e[70]=f,e[71]=g,e[72]=v,e[73]=F,e[74]=C):C=e[74];let ce;e[75]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(n,{htmlFor:"why",children:"Why (Mengapa) *"}),e[75]=ce):ce=e[75];let P;e[76]!==s?(P=r=>s("why",r.target.value),e[76]=s,e[77]=P):P=e[77];let B;e[78]!==i.why||e[79]!==P?(B=t.jsx(Be,{id:"why",value:i.why,onChange:P,placeholder:"Mengapa terjadi?",rows:3,required:!0}),e[78]=i.why,e[79]=P,e[80]=B):B=e[80];let R;e[81]!==a.why?(R=a.why&&t.jsx("p",{className:"text-sm text-red-500",children:a.why}),e[81]=a.why,e[82]=R):R=e[82];let A;e[83]!==B||e[84]!==R?(A=t.jsxs("div",{className:"space-y-2",children:[ce,B,R]}),e[83]=B,e[84]=R,e[85]=A):A=e[85];let he;e[86]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx(n,{htmlFor:"how",children:"How (Bagaimana) *"}),e[86]=he):he=e[86];let q;e[87]!==s?(q=r=>s("how",r.target.value),e[87]=s,e[88]=q):q=e[88];let E;e[89]!==i.how||e[90]!==q?(E=t.jsx(Be,{id:"how",value:i.how,onChange:q,placeholder:"Bagaimana prosesnya?",rows:3,required:!0}),e[89]=i.how,e[90]=q,e[91]=E):E=e[91];let D;e[92]!==a.how?(D=a.how&&t.jsx("p",{className:"text-sm text-red-500",children:a.how}),e[92]=a.how,e[93]=D):D=e[93];let U;e[94]!==E||e[95]!==D?(U=t.jsxs("div",{className:"space-y-2",children:[he,E,D]}),e[94]=E,e[95]=D,e[96]=U):U=e[96];let me;e[97]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(n,{htmlFor:"pemberi_kutipan",children:"Pemberi Kutipan"}),e[97]=me):me=e[97];let K;e[98]!==s?(K=r=>s("pemberi_kutipan",r.target.value),e[98]=s,e[99]=K):K=e[99];let M;e[100]!==i.pemberi_kutipan||e[101]!==K?(M=t.jsx(O,{id:"pemberi_kutipan",value:i.pemberi_kutipan,onChange:K,placeholder:"Nama pemberi kutipan"}),e[100]=i.pemberi_kutipan,e[101]=K,e[102]=M):M=e[102];let T;e[103]!==a.pemberi_kutipan?(T=a.pemberi_kutipan&&t.jsx("p",{className:"text-sm text-red-500",children:a.pemberi_kutipan}),e[103]=a.pemberi_kutipan,e[104]=T):T=e[104];let W;e[105]!==M||e[106]!==T?(W=t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.jsxs("div",{className:"space-y-2",children:[me,M,T]})}),e[105]=M,e[106]=T,e[107]=W):W=e[107];let de;e[108]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(n,{htmlFor:"isi_kutipan",children:"Isi Kutipan"}),e[108]=de):de=e[108];let $;e[109]!==s?($=r=>s("isi_kutipan",r.target.value),e[109]=s,e[110]=$):$=e[110];let I;e[111]!==i.isi_kutipan||e[112]!==$?(I=t.jsx(Be,{id:"isi_kutipan",value:i.isi_kutipan,onChange:$,placeholder:"Isi kutipan",rows:3}),e[111]=i.isi_kutipan,e[112]=$,e[113]=I):I=e[113];let L;e[114]!==a.isi_kutipan?(L=a.isi_kutipan&&t.jsx("p",{className:"text-sm text-red-500",children:a.isi_kutipan}),e[114]=a.isi_kutipan,e[115]=L):L=e[115];let G;e[116]!==I||e[117]!==L?(G=t.jsxs("div",{className:"space-y-2",children:[de,I,L]}),e[116]=I,e[117]=L,e[118]=G):G=e[118];let pe;e[119]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx(n,{children:"Foto (Maksimal 5)"}),e[119]=pe):pe=e[119];let ue;e[120]===Symbol.for("react.memo_cache_sentinel")?(ue=[1,2,3,4,5],e[120]=ue):ue=e[120];let H;e[121]!==ke||e[122]!==Se||e[123]!==ve||e[124]!==Fe?(H=t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:ue.map(r=>{const o=`foto${r}`,c=ke[o],h=ve[o];return t.jsx("div",{className:"space-y-2",children:h||c?t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:h||`/assets/images/press_release/${c}`,alt:`Preview ${r}`,className:"h-32 w-full object-cover rounded-lg border"}),t.jsx(Pe,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1",onClick:()=>Fe(o),children:t.jsx(We,{className:"h-3 w-3"})})]}):t.jsx("div",{className:"h-32 border-2 border-dashed rounded-lg flex items-center justify-center",children:t.jsxs("label",{htmlFor:o,className:"cursor-pointer text-center p-2",children:[t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Foto ",r]}),t.jsx(O,{id:o,type:"file",accept:"image/*",onChange:Y=>Se(Y,o),className:"hidden"})]})})},o)})}),e[121]=ke,e[122]=Se,e[123]=ve,e[124]=Fe,e[125]=H):H=e[125];let fe;e[126]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: JPG, PNG. Maksimal 2MB per foto"}),e[126]=fe):fe=e[126];let z;e[127]!==H?(z=t.jsxs("div",{className:"space-y-4",children:[pe,H,fe]}),e[127]=H,e[128]=z):z=e[128];let J;e[129]!==ye?(J=t.jsx(Pe,{type:"submit",disabled:ye,children:"Update"}),e[129]=ye,e[130]=J):J=e[130];let we;e[131]===Symbol.for("react.memo_cache_sentinel")?(we=t.jsx(Pe,{type:"button",variant:"outline",onClick:Ie,children:"Batal"}),e[131]=we):we=e[131];let X;e[132]!==J?(X=t.jsxs("div",{className:"flex gap-2",children:[J,we]}),e[132]=J,e[133]=X):X=e[133];let xe;return e[134]!==Ce||e[135]!==m||e[136]!==C||e[137]!==A||e[138]!==U||e[139]!==W||e[140]!==G||e[141]!==z||e[142]!==X?(xe=t.jsxs(Me,{breadcrumbs:$e,children:[le,t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 p-4",children:[ae,t.jsx("div",{className:"max-w-4xl rounded-lg border p-6",children:t.jsxs("form",{onSubmit:Ce,className:"space-y-6",children:[m,C,A,U,W,G,z,X]})})]})]}),e[134]=Ce,e[135]=m,e[136]=C,e[137]=A,e[138]=U,e[139]=W,e[140]=G,e[141]=z,e[142]=X,e[143]=xe):xe=e[143],xe}function Ie(){return window.history.back()}function Le(){Re.error("Gagal mengupdate press release")}function Ge(){Re.success("Press release berhasil diupdate")}export{ct as default};
