import{c as A,r as E,j as a,a as f,L as D,H as z}from"./app-Dhj2yppL.js";import{B as o}from"./createLucideIcon-Kw67UNnC.js";import{I as R}from"./input-Dett9do5.js";import{b as C,e as n,a as U,c as i,T as K,d as M}from"./table-9iyMN1hn.js";import{B as q}from"./badge-CvSqxxlB.js";import{c as G,d as Y,e as X,T as F,P as J,S as O,A as Q,t as B}from"./app-layout-BqFvHWxQ.js";import{S as $}from"./sweetalert2.esm.all-NNS-RXd7.js";/* empty css            */import"./malogo-DItZi9W1.js";import"./index-DcQpb1uV.js";import"./index-BWeyt2vI.js";import"./index-CMWG4mbA.js";import"./users-Csf4-srX.js";import"./loader-circle-BwylV5Sz.js";import"./minus-ByxClWfV.js";const V=[{title:"Dashboard",href:"/dashboard"},{title:"Buku Tamu",href:"#"}];function _e(r){const e=A.c(33),{bukutamu:t,filters:c}=r,[l,y]=E.useState(c.search||"");let g;e[0]!==l?(g=s=>{s.preventDefault(),f.get("/bukutamu",{search:l},{preserveState:!0})},e[0]=l,e[1]=g):g=e[1];const w=g,H=te,I=ee,L=Z;let j;e[2]===Symbol.for("react.memo_cache_sentinel")?(j=a.jsx(z,{title:"Buku Tamu"}),e[2]=j):j=e[2];let b;e[3]===Symbol.for("react.memo_cache_sentinel")?(b=a.jsx("h1",{className:"text-2xl font-bold",children:"Buku Tamu"}),e[3]=b):b=e[3];let _;e[4]===Symbol.for("react.memo_cache_sentinel")?(_=a.jsxs("div",{className:"flex items-center justify-between",children:[b,a.jsx(D,{href:"/bukutamu/create",children:a.jsxs(o,{children:[a.jsx(J,{className:"mr-2 h-4 w-4"}),"Tambah Data"]})})]}),e[4]=_):_=e[4];let S;e[5]===Symbol.for("react.memo_cache_sentinel")?(S=a.jsx(O,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[5]=S):S=e[5];let k;e[6]===Symbol.for("react.memo_cache_sentinel")?(k=s=>y(s.target.value),e[6]=k):k=e[6];let u;e[7]!==l?(u=a.jsxs("div",{className:"relative flex-1",children:[S,a.jsx(R,{placeholder:"Cari nama, instansi, nomor telepon...",value:l,onChange:k,className:"pl-9"})]}),e[7]=l,e[8]=u):u=e[8];let N;e[9]===Symbol.for("react.memo_cache_sentinel")?(N=a.jsx(o,{type:"submit",children:"Cari"}),e[9]=N):N=e[9];let d;e[10]!==c.search?(d=c.search&&a.jsx(o,{type:"button",variant:"outline",onClick:()=>{y(""),f.get("/bukutamu")},children:"Reset"}),e[10]=c.search,e[11]=d):d=e[11];let m;e[12]!==w||e[13]!==u||e[14]!==d?(m=a.jsx("div",{className:"p-4",children:a.jsxs("form",{onSubmit:w,className:"flex gap-2",children:[u,N,d]})}),e[12]=w,e[13]=u,e[14]=d,e[15]=m):m=e[15];let v;e[16]===Symbol.for("react.memo_cache_sentinel")?(v=a.jsx(U,{children:a.jsxs(C,{children:[a.jsx(i,{className:"w-[50px]",children:"No"}),a.jsx(i,{children:"Nama Lengkap"}),a.jsx(i,{children:"Instansi"}),a.jsx(i,{children:"Tanggal"}),a.jsx(i,{children:"No. Telepon"}),a.jsx(i,{children:"Bertemu Dengan"}),a.jsx(i,{children:"Keperluan"}),a.jsx(i,{children:"Status"}),a.jsx(i,{className:"text-right",children:"Aksi"})]})}),e[16]=v):v=e[16];let h;e[17]!==t.current_page||e[18]!==t.data||e[19]!==t.per_page?(h=t.data.length===0?a.jsx(C,{children:a.jsx(n,{colSpan:9,className:"text-center",children:"Tidak ada data"})}):t.data.map((s,P)=>a.jsxs(C,{children:[a.jsx(n,{children:(t.current_page-1)*t.per_page+P+1}),a.jsx(n,{className:"font-medium",children:s.nama_lengkap}),a.jsx(n,{children:s.instansi}),a.jsx(n,{children:L(s.tanggal)}),a.jsx(n,{children:s.nomor_telepon}),a.jsx(n,{children:s.bertemu_dengan}),a.jsx(n,{className:"max-w-xs truncate",children:s.keperluan}),a.jsx(n,{children:a.jsx(q,{variant:s.status?"default":"secondary",children:s.status?"Selesai":"Pending"})}),a.jsx(n,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(o,{variant:s.status?"outline":"default",size:"sm",onClick:()=>I(s.id,s.status,s.nama_lengkap),title:s.status?"Ubah ke Pending":"Tandai Selesai",className:s.status?"text-red-600 hover:text-red-700 hover:bg-red-50":"bg-green-600 hover:bg-green-700",children:s.status?a.jsx(G,{className:"h-4 w-4"}):a.jsx(Y,{className:"h-4 w-4"})}),a.jsx(D,{href:`/bukutamu/${s.id}/edit`,children:a.jsx(o,{variant:"outline",size:"sm",children:a.jsx(X,{className:"h-4 w-4"})})}),a.jsx(o,{variant:"destructive",size:"sm",onClick:()=>H(s.id,s.nama_lengkap),children:a.jsx(F,{className:"h-4 w-4"})})]})})]},s.id)),e[17]=t.current_page,e[18]=t.data,e[19]=t.per_page,e[20]=h):h=e[20];let x;e[21]!==h?(x=a.jsxs(K,{children:[v,a.jsx(M,{children:h})]}),e[21]=h,e[22]=x):x=e[22];let p;e[23]!==t.current_page||e[24]!==t.last_page||e[25]!==t.links||e[26]!==t.per_page||e[27]!==t.total?(p=t.last_page>1&&a.jsxs("div",{className:"flex items-center justify-between border-t p-4",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Menampilkan ",(t.current_page-1)*t.per_page+1," -"," ",Math.min(t.current_page*t.per_page,t.total)," dari"," ",t.total," data"]}),a.jsx("div",{className:"flex gap-1",children:t.links.map(W)})]}),e[23]=t.current_page,e[24]=t.last_page,e[25]=t.links,e[26]=t.per_page,e[27]=t.total,e[28]=p):p=e[28];let T;return e[29]!==m||e[30]!==x||e[31]!==p?(T=a.jsxs(Q,{breadcrumbs:V,children:[j,a.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 p-4",children:[_,a.jsxs("div",{className:"rounded-lg border bg-card",children:[m,x,p]})]})]}),e[29]=m,e[30]=x,e[31]=p,e[32]=T):T=e[32],T}function W(r,e){return a.jsx(o,{variant:r.active?"default":"outline",size:"sm",disabled:!r.url,onClick:()=>r.url&&f.get(r.url),dangerouslySetInnerHTML:{__html:r.label}},e)}function Z(r){return new Date(r).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})}async function ee(r,e,t){const c=!e,l=c?"Selesai":"Pending";(await $.fire({title:"Konfirmasi Ubah Status",text:`Ubah status ${t} menjadi ${l}?`,icon:"question",showCancelButton:!0,confirmButtonColor:c?"#10b981":"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Ubah!",cancelButtonText:"Batal"})).isConfirmed&&f.patch(`/bukutamu/${r}/toggle-status`,{},{onSuccess:()=>{B.success(`Status berhasil diubah menjadi ${l}`)},onError:ae})}function ae(){B.error("Gagal mengubah status")}async function te(r,e){(await $.fire({title:"Konfirmasi Hapus",text:`Apakah Anda yakin ingin menghapus data ${e}?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"})).isConfirmed&&f.delete(`/bukutamu/${r}`,{onSuccess:re,onError:se})}function se(){B.error("Gagal menghapus data buku tamu")}function re(){B.success("Data buku tamu berhasil dihapus")}export{_e as default};
