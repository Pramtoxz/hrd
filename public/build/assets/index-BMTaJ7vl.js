import{c as q,r as A,j as s,L as E,a as g,H as F}from"./app-lD0BtYGH.js";import{B as j}from"./createLucideIcon-DjM4OXdd.js";import{b as D,e as n,a as V,c,T as G,d as K}from"./table-Cq4Jz5yj.js";import{B as I}from"./badge-Bf9EHWRg.js";import{I as O}from"./input-DE5QwVcQ.js";import{a as Y,b as J,c as Q,d as H,S as U}from"./select-CUv2JrMM.js";import{a as X,T as Z,P as ee,S as se,A as te,C as ae,b as le,t as L}from"./app-layout-j37GCoU_.js";import{S as re}from"./sweetalert2.esm.all-NNS-RXd7.js";/* empty css            */import"./index-CeyM74A0.js";import"./malogo-B014LVf-.js";import"./index-DbuzGfH1.js";import"./index-BWeyt2vI.js";import"./index-CMWG4mbA.js";import"./loader-circle-nGa6dyUM.js";import"./minus-VY0xMmFQ.js";const ie=[{title:"Dashboard",href:"/dashboard"},{title:"Press Release",href:"/press-release"}];function Te(a){const e=q.c(39),{releases:t,filters:z,isAdmin:W}=a,[i,$]=A.useState(z.search||""),[r,M]=A.useState(z.status||"all");let v,b;e[0]!==i||e[1]!==r?(v=()=>{if(!i&&r==="all")return;const l=setTimeout(()=>{g.get("/press-release",{search:i||void 0,status:r==="all"?void 0:r},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(l)},b=[i,r],e[0]=i,e[1]=r,e[2]=v,e[3]=b):(v=e[2],b=e[3]),A.useEffect(v,b);const k=ce;let S;e[4]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx(F,{title:"Press Release"}),e[4]=S):S=e[4];let _;e[5]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx("h1",{className:"text-2xl font-bold",children:"Press Release"}),e[5]=_):_=e[5];const R=!W&&"(Milik Anda)";let o;e[6]!==t.total||e[7]!==R?(o=s.jsxs("div",{children:[_,s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total: ",t.total," press release ",R]})]}),e[6]=t.total,e[7]=R,e[8]=o):o=e[8];let w;e[9]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsx(j,{asChild:!0,children:s.jsxs(E,{href:"/press-release/create",children:[s.jsx(ee,{className:"h-1 w-1"}),"Tambah Data"]})}),e[9]=w):w=e[9];let d;e[10]!==o?(d=s.jsxs("div",{className:"flex items-center justify-between",children:[o,w]}),e[10]=o,e[11]=d):d=e[11];let N;e[12]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx(se,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[12]=N):N=e[12];let y;e[13]===Symbol.for("react.memo_cache_sentinel")?(y=l=>$(l.target.value),e[13]=y):y=e[13];let u;e[14]!==i?(u=s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[N,s.jsx(O,{placeholder:"Cari what, who, where...",value:i,onChange:y,className:"pl-9"})]}),e[14]=i,e[15]=u):u=e[15];let C;e[16]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(Y,{className:"w-[180px]",children:s.jsx(J,{placeholder:"Filter Status"})}),e[16]=C):C=e[16];let T;e[17]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsxs(Q,{children:[s.jsx(H,{value:"all",children:"Semua Status"}),s.jsx(H,{value:"true",children:"Disetujui"}),s.jsx(H,{value:"false",children:"Pending"})]}),e[17]=T):T=e[17];let m;e[18]!==r?(m=s.jsxs(U,{value:r,onValueChange:M,children:[C,T]}),e[18]=r,e[19]=m):m=e[19];let h;e[20]!==u||e[21]!==m?(h=s.jsxs("div",{className:"flex items-center gap-2",children:[u,m]}),e[20]=u,e[21]=m,e[22]=h):h=e[22];let B;e[23]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx(V,{children:s.jsxs(D,{children:[s.jsx(c,{children:"What"}),s.jsx(c,{children:"Who"}),s.jsx(c,{children:"When"}),s.jsx(c,{children:"Where"}),s.jsx(c,{children:"Dibuat Oleh"}),s.jsx(c,{children:"Status"}),s.jsx(c,{className:"text-right",children:"Aksi"})]})}),e[23]=B):B=e[23];let x;e[24]!==t.data?(x=t.data.length>0?t.data.map(l=>s.jsxs(D,{children:[s.jsx(n,{className:"font-medium max-w-xs truncate",children:l.what}),s.jsx(n,{children:l.who}),s.jsx(n,{children:l.when}),s.jsx(n,{children:l.where}),s.jsx(n,{children:l.user.name}),s.jsx(n,{children:l.status?s.jsx(I,{variant:"default",children:"Disetujui"}):s.jsx(I,{variant:"secondary",children:"Pending"})}),s.jsx(n,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(j,{variant:"outline",size:"sm",asChild:!0,children:s.jsx(E,{href:`/press-release/${l.id}/edit`,children:s.jsx(X,{className:"h-4 w-4"})})}),s.jsx(j,{variant:"destructive",size:"sm",onClick:()=>k(l.id,l.what),children:s.jsx(Z,{className:"h-4 w-4"})})]})})]},l.id)):s.jsx(D,{children:s.jsx(n,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"Tidak ada data press release"})}),e[24]=t.data,e[25]=x):x=e[25];let f;e[26]!==x?(f=s.jsx("div",{className:"rounded-lg border",children:s.jsxs(G,{children:[B,s.jsx(K,{children:x})]})}),e[26]=x,e[27]=f):f=e[27];let p;e[28]!==t.current_page||e[29]!==t.last_page||e[30]!==t.links||e[31]!==t.per_page||e[32]!==t.total?(p=t.last_page>1&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Menampilkan ",(t.current_page-1)*t.per_page+1," - ",Math.min(t.current_page*t.per_page,t.total)," dari ",t.total," data"]}),s.jsx("div",{className:"flex gap-1",children:t.links.map(ne)})]}),e[28]=t.current_page,e[29]=t.last_page,e[30]=t.links,e[31]=t.per_page,e[32]=t.total,e[33]=p):p=e[33];let P;return e[34]!==h||e[35]!==f||e[36]!==p||e[37]!==d?(P=s.jsxs(te,{breadcrumbs:ie,children:[S,s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 p-4",children:[d,h,f,p]})]}),e[34]=h,e[35]=f,e[36]=p,e[37]=d,e[38]=P):P=e[38],P}function ne(a,e){return a.label==="&laquo; Previous"?s.jsx(j,{variant:"outline",size:"sm",disabled:!a.url,onClick:()=>a.url&&g.get(a.url,{},{preserveState:!0,preserveScroll:!0}),children:s.jsx(ae,{className:"h-4 w-4"})},e):a.label==="Next &raquo;"?s.jsx(j,{variant:"outline",size:"sm",disabled:!a.url,onClick:()=>a.url&&g.get(a.url,{},{preserveState:!0,preserveScroll:!0}),children:s.jsx(le,{className:"h-4 w-4"})},e):s.jsx(j,{variant:a.active?"default":"outline",size:"sm",disabled:!a.url,onClick:()=>a.url&&g.get(a.url,{},{preserveState:!0,preserveScroll:!0}),children:a.label},e)}async function ce(a,e){(await re.fire({title:"Konfirmasi Hapus",text:`Apakah Anda yakin ingin menghapus press release "${e}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"})).isConfirmed&&g.delete(`/press-release/${a}`,{onSuccess:de,onError:oe})}function oe(){L.error("Gagal menghapus press release")}function de(){L.success("Press release berhasil dihapus")}export{Te as default};
