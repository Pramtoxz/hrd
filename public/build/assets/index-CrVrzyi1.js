import{c as L,r as y,j as a,L as C,a as h,H as P}from"./app-Cej10E3O.js";import{B as d}from"./createLucideIcon-BgVc6Hot.js";import{b as S,e as m,a as z,c as u,T as $,d as D}from"./table-CAvUjaKn.js";import{B as T}from"./badge-DGzjp2_0.js";import{I as R}from"./input-DvsjLBsu.js";import{a as I,T as k,P as q,S as M,A as U,t as w}from"./app-layout-SVK9y9af.js";import{S as F}from"./sweetalert2.esm.all-NNS-RXd7.js";import{C as G,a as K}from"./index-DdcgWVWY.js";/* empty css            */import"./index-Cix3gUUA.js";import"./index-CU3jzwCX.js";import"./malogo-DU1dCDkW.js";import"./index-BWeyt2vI.js";import"./index-CMWG4mbA.js";import"./loader-circle-CW5OcCCs.js";import"./minus-nI1ca6Xa.js";const Y=[{title:"Dashboard",href:"/dashboard"},{title:"Users",href:"/users"}];function ue(t){const e=L.c(27),{users:s,filters:B}=t,[l,A]=y.useState(B.search||"");let p,x;e[0]!==l?(p=()=>{const r=setTimeout(()=>{h.get("/users",{search:l},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(r)},x=[l],e[0]=l,e[1]=p,e[2]=x):(p=e[1],x=e[2]),y.useEffect(p,x);const E=O;let f;e[3]===Symbol.for("react.memo_cache_sentinel")?(f=a.jsx(P,{title:"Pengguna"}),e[3]=f):f=e[3];let j;e[4]===Symbol.for("react.memo_cache_sentinel")?(j=a.jsx("div",{children:a.jsx("h1",{className:"text-2xl font-bold",children:"Pengguna"})}),e[4]=j):j=e[4];let g;e[5]===Symbol.for("react.memo_cache_sentinel")?(g=a.jsxs("div",{className:"flex items-center justify-between",children:[j,a.jsx(d,{asChild:!0,children:a.jsxs(C,{href:"/users/create",children:[a.jsx(q,{className:"mr-2 h-4 w-4"}),"Tambah Data"]})})]}),e[5]=g):g=e[5];let v;e[6]===Symbol.for("react.memo_cache_sentinel")?(v=a.jsx(M,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[6]=v):v=e[6];let _;e[7]===Symbol.for("react.memo_cache_sentinel")?(_=r=>A(r.target.value),e[7]=_):_=e[7];let i;e[8]!==l?(i=a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("div",{className:"relative flex-1 max-w-sm",children:[v,a.jsx(R,{placeholder:"Cari nama, email, atau level...",value:l,onChange:_,className:"pl-9"})]})}),e[8]=l,e[9]=i):i=e[9];let b;e[10]===Symbol.for("react.memo_cache_sentinel")?(b=a.jsx(z,{children:a.jsxs(S,{children:[a.jsx(u,{className:"w-16",children:"No"}),a.jsx(u,{children:"Nama"}),a.jsx(u,{children:"Email"}),a.jsx(u,{children:"Level"}),a.jsx(u,{className:"text-right",children:"Aksi"})]})}),e[10]=b):b=e[10];let n;e[11]!==s.current_page||e[12]!==s.data||e[13]!==s.per_page?(n=s.data.length>0?s.data.map((r,H)=>a.jsxs(S,{children:[a.jsx(m,{className:"font-medium",children:(s.current_page-1)*s.per_page+H+1}),a.jsx(m,{className:"font-medium",children:r.name}),a.jsx(m,{children:r.email}),a.jsx(m,{children:r.user_level?a.jsx(T,{variant:"secondary",children:r.user_level.nama_level}):a.jsx(T,{variant:"outline",children:"Tidak Ada Level"})}),a.jsx(m,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(d,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(C,{href:`/users/${r.id}/edit`,children:a.jsx(I,{className:"h-4 w-4"})})}),a.jsx(d,{variant:"destructive",size:"sm",onClick:()=>E(r.id,r.name),children:a.jsx(k,{className:"h-4 w-4"})})]})})]},r.id)):a.jsx(S,{children:a.jsx(m,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Tidak ada data user"})}),e[11]=s.current_page,e[12]=s.data,e[13]=s.per_page,e[14]=n):n=e[14];let c;e[15]!==n?(c=a.jsx("div",{className:"rounded-lg border",children:a.jsxs($,{children:[b,a.jsx(D,{children:n})]})}),e[15]=n,e[16]=c):c=e[16];let o;e[17]!==s.current_page||e[18]!==s.last_page||e[19]!==s.links||e[20]!==s.per_page||e[21]!==s.total?(o=s.last_page>1&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Menampilkan ",(s.current_page-1)*s.per_page+1," - ",Math.min(s.current_page*s.per_page,s.total)," dari ",s.total," data"]}),a.jsx("div",{className:"flex gap-1",children:s.links.map(J)})]}),e[17]=s.current_page,e[18]=s.last_page,e[19]=s.links,e[20]=s.per_page,e[21]=s.total,e[22]=o):o=e[22];let N;return e[23]!==c||e[24]!==o||e[25]!==i?(N=a.jsxs(U,{breadcrumbs:Y,children:[f,a.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 p-4",children:[g,i,c,o]})]}),e[23]=c,e[24]=o,e[25]=i,e[26]=N):N=e[26],N}function J(t,e){return t.label==="&laquo; Previous"?a.jsx(d,{variant:"outline",size:"sm",disabled:!t.url,onClick:()=>t.url&&h.get(t.url,{},{preserveState:!0,preserveScroll:!0}),children:a.jsx(G,{className:"h-4 w-4"})},e):t.label==="Next &raquo;"?a.jsx(d,{variant:"outline",size:"sm",disabled:!t.url,onClick:()=>t.url&&h.get(t.url,{},{preserveState:!0,preserveScroll:!0}),children:a.jsx(K,{className:"h-4 w-4"})},e):a.jsx(d,{variant:t.active?"default":"outline",size:"sm",disabled:!t.url,onClick:()=>t.url&&h.get(t.url,{},{preserveState:!0,preserveScroll:!0}),children:t.label},e)}async function O(t,e){(await F.fire({title:"Konfirmasi Hapus",text:`Apakah Anda yakin ingin menghapus user "${e}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"})).isConfirmed&&h.delete(`/users/${t}`,{onSuccess:()=>{w.success(`${e} berhasil dihapus`)},onError:Q})}function Q(){w.error("Gagal menghapus user")}export{ue as default};
