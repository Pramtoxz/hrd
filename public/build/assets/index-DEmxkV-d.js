import{c as K,r as z,j as s,L as I,a as v,H as V}from"./app-Cej10E3O.js";import{B as u}from"./createLucideIcon-BgVc6Hot.js";import{b as E,e as n,a as Y,c as o,T as O,d as X}from"./table-CAvUjaKn.js";import{B as D}from"./badge-DGzjp2_0.js";import{I as J}from"./input-DvsjLBsu.js";import{a as Q,b as U,c as Z,d as H,S as ee}from"./select-KyXyi2Y2.js";import{C as se,b as te,a as ae,T as re,P as le,S as ie,A as ne,t as $}from"./app-layout-SVK9y9af.js";import{S as L}from"./sweetalert2.esm.all-NNS-RXd7.js";import{C as ce,a as oe}from"./index-DdcgWVWY.js";/* empty css            */import"./index-CU3jzwCX.js";import"./index-Cix3gUUA.js";import"./index-CnQ-pfKV.js";import"./malogo-DU1dCDkW.js";import"./index-BWeyt2vI.js";import"./index-CMWG4mbA.js";import"./loader-circle-CW5OcCCs.js";import"./minus-nI1ca6Xa.js";const ue=[{title:"Dashboard",href:"/dashboard"},{title:"Press Release",href:"/press-release"}];function Ee(r){const e=K.c(42),{releases:t,filters:d,isAdmin:c}=r,[l,W]=z.useState(d.search||""),[i,q]=z.useState(d.status||"all");let S,_;e[0]!==l||e[1]!==i?(S=()=>{if(!l&&i==="all")return;const a=setTimeout(()=>{v.get("/press-release",{search:l||void 0,status:i==="all"?void 0:i},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(a)},_=[l,i],e[0]=l,e[1]=i,e[2]=S,e[3]=_):(S=e[2],_=e[3]),z.useEffect(S,_);const M=xe,F=me;let w;e[4]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsx(V,{title:"Press Release"}),e[4]=w):w=e[4];let N;e[5]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx("h1",{className:"text-2xl font-bold",children:"Press Release"}),e[5]=N):N=e[5];const k=!c&&"(Milik Anda)";let m;e[6]!==t.total||e[7]!==k?(m=s.jsxs("div",{children:[N,s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total: ",t.total," press release ",k]})]}),e[6]=t.total,e[7]=k,e[8]=m):m=e[8];let C;e[9]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(u,{asChild:!0,children:s.jsxs(I,{href:"/press-release/create",children:[s.jsx(le,{className:"h-1 w-1"}),"Tambah Data"]})}),e[9]=C):C=e[9];let h;e[10]!==m?(h=s.jsxs("div",{className:"flex items-center justify-between",children:[m,C]}),e[10]=m,e[11]=h):h=e[11];let y;e[12]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx(ie,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[12]=y):y=e[12];let T;e[13]===Symbol.for("react.memo_cache_sentinel")?(T=a=>W(a.target.value),e[13]=T):T=e[13];let x;e[14]!==l?(x=s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[y,s.jsx(J,{placeholder:"Cari what, who, where...",value:l,onChange:T,className:"pl-9"})]}),e[14]=l,e[15]=x):x=e[15];let B;e[16]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx(Q,{className:"w-[180px]",children:s.jsx(U,{placeholder:"Filter Status"})}),e[16]=B):B=e[16];let P;e[17]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsxs(Z,{children:[s.jsx(H,{value:"all",children:"Semua Status"}),s.jsx(H,{value:"true",children:"Selesai"}),s.jsx(H,{value:"false",children:"Pending"})]}),e[17]=P):P=e[17];let p;e[18]!==i?(p=s.jsxs(ee,{value:i,onValueChange:q,children:[B,P]}),e[18]=i,e[19]=p):p=e[19];let f;e[20]!==x||e[21]!==p?(f=s.jsxs("div",{className:"flex items-center gap-2",children:[x,p]}),e[20]=x,e[21]=p,e[22]=f):f=e[22];let R;e[23]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx(Y,{children:s.jsxs(E,{children:[s.jsx(o,{className:"w-16",children:"No"}),s.jsx(o,{children:"What"}),s.jsx(o,{children:"Who"}),s.jsx(o,{children:"When"}),s.jsx(o,{children:"Where"}),s.jsx(o,{children:"Dibuat Oleh"}),s.jsx(o,{children:"Status"}),s.jsx(o,{className:"text-right",children:"Aksi"})]})}),e[23]=R):R=e[23];let j;e[24]!==c||e[25]!==t.current_page||e[26]!==t.data||e[27]!==t.per_page?(j=t.data.length>0?t.data.map((a,G)=>s.jsxs(E,{children:[s.jsx(n,{className:"font-medium",children:(t.current_page-1)*t.per_page+G+1}),s.jsx(n,{className:"font-medium max-w-xs truncate",children:a.what}),s.jsx(n,{children:a.who}),s.jsx(n,{children:a.when}),s.jsx(n,{children:a.where}),s.jsx(n,{children:a.user.name}),s.jsx(n,{children:a.status?s.jsx(D,{variant:"default",children:"Selesai"}):s.jsx(D,{variant:"secondary",children:"Pending"})}),s.jsx(n,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[c&&s.jsx(u,{variant:a.status?"outline":"default",size:"sm",onClick:()=>F(a.id,a.status,a.what),title:a.status?"Pending":"Selesai",className:a.status?"text-red-600 hover:text-red-700 hover:bg-red-50":"bg-green-600 hover:bg-green-700",children:a.status?s.jsx(se,{className:"h-4 w-4"}):s.jsx(te,{className:"h-4 w-4"})}),s.jsx(u,{variant:"outline",size:"sm",asChild:!0,children:s.jsx(I,{href:`/press-release/${a.id}/edit`,children:s.jsx(ae,{className:"h-4 w-4"})})}),s.jsx(u,{variant:"destructive",size:"sm",onClick:()=>M(a.id,a.what),children:s.jsx(re,{className:"h-4 w-4"})})]})})]},a.id)):s.jsx(E,{children:s.jsx(n,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"Tidak ada data press release"})}),e[24]=c,e[25]=t.current_page,e[26]=t.data,e[27]=t.per_page,e[28]=j):j=e[28];let g;e[29]!==j?(g=s.jsx("div",{className:"rounded-lg border",children:s.jsxs(O,{children:[R,s.jsx(X,{children:j})]})}),e[29]=j,e[30]=g):g=e[30];let b;e[31]!==t.current_page||e[32]!==t.last_page||e[33]!==t.links||e[34]!==t.per_page||e[35]!==t.total?(b=t.last_page>1&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Menampilkan ",(t.current_page-1)*t.per_page+1," - ",Math.min(t.current_page*t.per_page,t.total)," dari ",t.total," data"]}),s.jsx("div",{className:"flex gap-1",children:t.links.map(de)})]}),e[31]=t.current_page,e[32]=t.last_page,e[33]=t.links,e[34]=t.per_page,e[35]=t.total,e[36]=b):b=e[36];let A;return e[37]!==f||e[38]!==g||e[39]!==b||e[40]!==h?(A=s.jsxs(ne,{breadcrumbs:ue,children:[w,s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 p-4",children:[h,f,g,b]})]}),e[37]=f,e[38]=g,e[39]=b,e[40]=h,e[41]=A):A=e[41],A}function de(r,e){return r.label==="&laquo; Previous"?s.jsx(u,{variant:"outline",size:"sm",disabled:!r.url,onClick:()=>r.url&&v.get(r.url,{},{preserveState:!0,preserveScroll:!0}),children:s.jsx(ce,{className:"h-4 w-4"})},e):r.label==="Next &raquo;"?s.jsx(u,{variant:"outline",size:"sm",disabled:!r.url,onClick:()=>r.url&&v.get(r.url,{},{preserveState:!0,preserveScroll:!0}),children:s.jsx(oe,{className:"h-4 w-4"})},e):s.jsx(u,{variant:r.active?"default":"outline",size:"sm",disabled:!r.url,onClick:()=>r.url&&v.get(r.url,{},{preserveState:!0,preserveScroll:!0}),children:r.label},e)}async function me(r,e,t){const d=!e,c=d?"Selesai":"Pending";(await L.fire({title:`Konfirmasi ${c}`,text:`Apakah Anda yakin ingin ${c.toLowerCase()} Press Release Ini?`,icon:"question",showCancelButton:!0,confirmButtonColor:d?"#10b981":"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:`Ya, ${c}!`,cancelButtonText:"Batal"})).isConfirmed&&v.patch(`/press-release/${r}/toggle-status`,{},{onSuccess:()=>{$.success(`Press release berhasil ${d?"selesai":"pending"}`)},onError:he})}function he(){$.error("Gagal mengubah status press release")}async function xe(r,e){(await L.fire({title:"Konfirmasi Hapus",text:"Apakah Anda yakin ingin menghapus Press Release Ini?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"})).isConfirmed&&v.delete(`/press-release/${r}`,{onSuccess:fe,onError:pe})}function pe(){$.error("Gagal menghapus press release")}function fe(){$.success("Press release berhasil dihapus")}export{Ee as default};
