import{c as K,r as z,j as t,L as I,a as v,H as V}from"./app-Dhj2yppL.js";import{B as u}from"./createLucideIcon-Kw67UNnC.js";import{b as E,e as n,a as Y,c as o,T as O,d as X}from"./table-9iyMN1hn.js";import{B as D}from"./badge-CvSqxxlB.js";import{I as J}from"./input-Dett9do5.js";import{a as Q,b as U,c as Z,d as H,S as ee}from"./select-CY3L5dZW.js";import{c as te,d as se,a as ae,T as re,P as le,S as ie,A as ne,t as R,C as ce,b as oe}from"./app-layout-BqFvHWxQ.js";import{S as L}from"./sweetalert2.esm.all-NNS-RXd7.js";/* empty css            */import"./index-DcQpb1uV.js";import"./malogo-DItZi9W1.js";import"./index-CbYu10RE.js";import"./index-BWeyt2vI.js";import"./index-CMWG4mbA.js";import"./users-Csf4-srX.js";import"./loader-circle-BwylV5Sz.js";import"./minus-ByxClWfV.js";const ue=[{title:"Dashboard",href:"/dashboard"},{title:"Press Release",href:"/press-release"}];function ze(r){const e=K.c(42),{releases:s,filters:d,isAdmin:c}=r,[l,W]=z.useState(d.search||""),[i,q]=z.useState(d.status||"all");let _,S;e[0]!==l||e[1]!==i?(_=()=>{if(!l&&i==="all")return;const a=setTimeout(()=>{v.get("/press-release",{search:l||void 0,status:i==="all"?void 0:i},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(a)},S=[l,i],e[0]=l,e[1]=i,e[2]=_,e[3]=S):(_=e[2],S=e[3]),z.useEffect(_,S);const M=xe,F=me;let w;e[4]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx(V,{title:"Press Release"}),e[4]=w):w=e[4];let N;e[5]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx("h1",{className:"text-2xl font-bold",children:"Press Release"}),e[5]=N):N=e[5];const $=!c&&"(Milik Anda)";let m;e[6]!==s.total||e[7]!==$?(m=t.jsxs("div",{children:[N,t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total: ",s.total," press release ",$]})]}),e[6]=s.total,e[7]=$,e[8]=m):m=e[8];let C;e[9]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(u,{asChild:!0,children:t.jsxs(I,{href:"/press-release/create",children:[t.jsx(le,{className:"h-1 w-1"}),"Tambah Data"]})}),e[9]=C):C=e[9];let h;e[10]!==m?(h=t.jsxs("div",{className:"flex items-center justify-between",children:[m,C]}),e[10]=m,e[11]=h):h=e[11];let y;e[12]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx(ie,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[12]=y):y=e[12];let T;e[13]===Symbol.for("react.memo_cache_sentinel")?(T=a=>W(a.target.value),e[13]=T):T=e[13];let x;e[14]!==l?(x=t.jsxs("div",{className:"relative flex-1 max-w-sm",children:[y,t.jsx(J,{placeholder:"Cari what, who, where...",value:l,onChange:T,className:"pl-9"})]}),e[14]=l,e[15]=x):x=e[15];let k;e[16]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(Q,{className:"w-[180px]",children:t.jsx(U,{placeholder:"Filter Status"})}),e[16]=k):k=e[16];let B;e[17]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsxs(Z,{children:[t.jsx(H,{value:"all",children:"Semua Status"}),t.jsx(H,{value:"true",children:"Selesai"}),t.jsx(H,{value:"false",children:"Pending"})]}),e[17]=B):B=e[17];let f;e[18]!==i?(f=t.jsxs(ee,{value:i,onValueChange:q,children:[k,B]}),e[18]=i,e[19]=f):f=e[19];let p;e[20]!==x||e[21]!==f?(p=t.jsxs("div",{className:"flex items-center gap-2",children:[x,f]}),e[20]=x,e[21]=f,e[22]=p):p=e[22];let P;e[23]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx(Y,{children:t.jsxs(E,{children:[t.jsx(o,{className:"w-16",children:"No"}),t.jsx(o,{children:"What"}),t.jsx(o,{children:"Who"}),t.jsx(o,{children:"When"}),t.jsx(o,{children:"Where"}),t.jsx(o,{children:"Dibuat Oleh"}),t.jsx(o,{children:"Status"}),t.jsx(o,{className:"text-right",children:"Aksi"})]})}),e[23]=P):P=e[23];let j;e[24]!==c||e[25]!==s.current_page||e[26]!==s.data||e[27]!==s.per_page?(j=s.data.length>0?s.data.map((a,G)=>t.jsxs(E,{children:[t.jsx(n,{className:"font-medium",children:(s.current_page-1)*s.per_page+G+1}),t.jsx(n,{className:"font-medium max-w-xs truncate",children:a.what}),t.jsx(n,{children:a.who}),t.jsx(n,{children:a.when}),t.jsx(n,{children:a.where}),t.jsx(n,{children:a.user.name}),t.jsx(n,{children:a.status?t.jsx(D,{variant:"default",children:"Selesai"}):t.jsx(D,{variant:"secondary",children:"Pending"})}),t.jsx(n,{className:"text-right",children:t.jsxs("div",{className:"flex justify-end gap-2",children:[c&&t.jsx(u,{variant:a.status?"outline":"default",size:"sm",onClick:()=>F(a.id,a.status,a.what),title:a.status?"Nonaktifkan":"Aktifkan",className:a.status?"text-red-600 hover:text-red-700 hover:bg-red-50":"bg-green-600 hover:bg-green-700",children:a.status?t.jsx(te,{className:"h-4 w-4"}):t.jsx(se,{className:"h-4 w-4"})}),t.jsx(u,{variant:"outline",size:"sm",asChild:!0,children:t.jsx(I,{href:`/press-release/${a.id}/edit`,children:t.jsx(ae,{className:"h-4 w-4"})})}),t.jsx(u,{variant:"destructive",size:"sm",onClick:()=>M(a.id,a.what),children:t.jsx(re,{className:"h-4 w-4"})})]})})]},a.id)):t.jsx(E,{children:t.jsx(n,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"Tidak ada data press release"})}),e[24]=c,e[25]=s.current_page,e[26]=s.data,e[27]=s.per_page,e[28]=j):j=e[28];let g;e[29]!==j?(g=t.jsx("div",{className:"rounded-lg border",children:t.jsxs(O,{children:[P,t.jsx(X,{children:j})]})}),e[29]=j,e[30]=g):g=e[30];let b;e[31]!==s.current_page||e[32]!==s.last_page||e[33]!==s.links||e[34]!==s.per_page||e[35]!==s.total?(b=s.last_page>1&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Menampilkan ",(s.current_page-1)*s.per_page+1," - ",Math.min(s.current_page*s.per_page,s.total)," dari ",s.total," data"]}),t.jsx("div",{className:"flex gap-1",children:s.links.map(de)})]}),e[31]=s.current_page,e[32]=s.last_page,e[33]=s.links,e[34]=s.per_page,e[35]=s.total,e[36]=b):b=e[36];let A;return e[37]!==p||e[38]!==g||e[39]!==b||e[40]!==h?(A=t.jsxs(ne,{breadcrumbs:ue,children:[w,t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 p-4",children:[h,p,g,b]})]}),e[37]=p,e[38]=g,e[39]=b,e[40]=h,e[41]=A):A=e[41],A}function de(r,e){return r.label==="&laquo; Previous"?t.jsx(u,{variant:"outline",size:"sm",disabled:!r.url,onClick:()=>r.url&&v.get(r.url,{},{preserveState:!0,preserveScroll:!0}),children:t.jsx(ce,{className:"h-4 w-4"})},e):r.label==="Next &raquo;"?t.jsx(u,{variant:"outline",size:"sm",disabled:!r.url,onClick:()=>r.url&&v.get(r.url,{},{preserveState:!0,preserveScroll:!0}),children:t.jsx(oe,{className:"h-4 w-4"})},e):t.jsx(u,{variant:r.active?"default":"outline",size:"sm",disabled:!r.url,onClick:()=>r.url&&v.get(r.url,{},{preserveState:!0,preserveScroll:!0}),children:r.label},e)}async function me(r,e,s){const d=!e,c=d?"Aktifkan":"Nonaktifkan";(await L.fire({title:`Konfirmasi ${c}`,text:`Apakah Anda yakin ingin ${c.toLowerCase()} Press Release Ini?`,icon:"question",showCancelButton:!0,confirmButtonColor:d?"#10b981":"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:`Ya, ${c}!`,cancelButtonText:"Batal"})).isConfirmed&&v.patch(`/press-release/${r}/toggle-status`,{},{onSuccess:()=>{R.success(`Press release berhasil ${d?"diaktifkan":"dinonaktifkan"}`)},onError:he})}function he(){R.error("Gagal mengubah status press release")}async function xe(r,e){(await L.fire({title:"Konfirmasi Hapus",text:"Apakah Anda yakin ingin menghapus Press Release Ini?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"})).isConfirmed&&v.delete(`/press-release/${r}`,{onSuccess:pe,onError:fe})}function fe(){R.error("Gagal menghapus press release")}function pe(){R.success("Press release berhasil dihapus")}export{ze as default};
