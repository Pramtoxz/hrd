import{c as z,r as C,j as s,L as w,a as x,H as U}from"./app-lD0BtYGH.js";import{B as u}from"./createLucideIcon-DjM4OXdd.js";import{b as T,e as h,a as $,c as y,T as P,d as R}from"./table-Cq4Jz5yj.js";import{B}from"./badge-Bf9EHWRg.js";import{I as D}from"./input-DE5QwVcQ.js";import{a as I,T as k,P as q,S as M,A as F,t as A,C as G,b as K}from"./app-layout-j37GCoU_.js";import{S as Y}from"./sweetalert2.esm.all-NNS-RXd7.js";/* empty css            */import"./malogo-B014LVf-.js";import"./index-CeyM74A0.js";import"./index-BWeyt2vI.js";import"./index-CMWG4mbA.js";import"./loader-circle-nGa6dyUM.js";import"./minus-VY0xMmFQ.js";const J=[{title:"Dashboard",href:"/dashboard"},{title:"Users",href:"/users"}];function me(a){const e=z.c(30),{users:t,filters:E}=a,[l,H]=C.useState(E.search||"");let f,p;e[0]!==l?(f=()=>{const r=setTimeout(()=>{x.get("/users",{search:l},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(r)},p=[l],e[0]=l,e[1]=f,e[2]=p):(f=e[1],p=e[2]),C.useEffect(f,p);const L=Q;let j;e[3]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsx(U,{title:"Users"}),e[3]=j):j=e[3];let v;e[4]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx("h1",{className:"text-2xl font-bold",children:"Users"}),e[4]=v):v=e[4];let i;e[5]!==t.total?(i=s.jsxs("div",{children:[v,s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total: ",t.total," users"]})]}),e[5]=t.total,e[6]=i):i=e[6];let g;e[7]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(u,{asChild:!0,children:s.jsxs(w,{href:"/users/create",children:[s.jsx(q,{className:"mr-2 h-4 w-4"}),"Tambah User"]})}),e[7]=g):g=e[7];let n;e[8]!==i?(n=s.jsxs("div",{className:"flex items-center justify-between",children:[i,g]}),e[8]=i,e[9]=n):n=e[9];let b;e[10]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(M,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[10]=b):b=e[10];let _;e[11]===Symbol.for("react.memo_cache_sentinel")?(_=r=>H(r.target.value),e[11]=_):_=e[11];let c;e[12]!==l?(c=s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[b,s.jsx(D,{placeholder:"Cari nama, email, atau level...",value:l,onChange:_,className:"pl-9"})]})}),e[12]=l,e[13]=c):c=e[13];let N;e[14]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx($,{children:s.jsxs(T,{children:[s.jsx(y,{children:"Nama"}),s.jsx(y,{children:"Email"}),s.jsx(y,{children:"Level"}),s.jsx(y,{className:"text-right",children:"Aksi"})]})}),e[14]=N):N=e[14];let o;e[15]!==t.data?(o=t.data.length>0?t.data.map(r=>s.jsxs(T,{children:[s.jsx(h,{className:"font-medium",children:r.name}),s.jsx(h,{children:r.email}),s.jsx(h,{children:r.user_level?s.jsx(B,{variant:"secondary",children:r.user_level.nama_level}):s.jsx(B,{variant:"outline",children:"Tidak Ada Level"})}),s.jsx(h,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(u,{variant:"outline",size:"sm",asChild:!0,children:s.jsx(w,{href:`/users/${r.id}/edit`,children:s.jsx(I,{className:"h-4 w-4"})})}),s.jsx(u,{variant:"destructive",size:"sm",onClick:()=>L(r.id,r.name),children:s.jsx(k,{className:"h-4 w-4"})})]})})]},r.id)):s.jsx(T,{children:s.jsx(h,{colSpan:4,className:"text-center py-8 text-muted-foreground",children:"Tidak ada data user"})}),e[15]=t.data,e[16]=o):o=e[16];let d;e[17]!==o?(d=s.jsx("div",{className:"rounded-lg border",children:s.jsxs(P,{children:[N,s.jsx(R,{children:o})]})}),e[17]=o,e[18]=d):d=e[18];let m;e[19]!==t.current_page||e[20]!==t.last_page||e[21]!==t.links||e[22]!==t.per_page||e[23]!==t.total?(m=t.last_page>1&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Menampilkan ",(t.current_page-1)*t.per_page+1," - ",Math.min(t.current_page*t.per_page,t.total)," dari ",t.total," data"]}),s.jsx("div",{className:"flex gap-1",children:t.links.map(O)})]}),e[19]=t.current_page,e[20]=t.last_page,e[21]=t.links,e[22]=t.per_page,e[23]=t.total,e[24]=m):m=e[24];let S;return e[25]!==c||e[26]!==d||e[27]!==m||e[28]!==n?(S=s.jsxs(F,{breadcrumbs:J,children:[j,s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 p-4",children:[n,c,d,m]})]}),e[25]=c,e[26]=d,e[27]=m,e[28]=n,e[29]=S):S=e[29],S}function O(a,e){return a.label==="&laquo; Previous"?s.jsx(u,{variant:"outline",size:"sm",disabled:!a.url,onClick:()=>a.url&&x.get(a.url,{},{preserveState:!0,preserveScroll:!0}),children:s.jsx(G,{className:"h-4 w-4"})},e):a.label==="Next &raquo;"?s.jsx(u,{variant:"outline",size:"sm",disabled:!a.url,onClick:()=>a.url&&x.get(a.url,{},{preserveState:!0,preserveScroll:!0}),children:s.jsx(K,{className:"h-4 w-4"})},e):s.jsx(u,{variant:a.active?"default":"outline",size:"sm",disabled:!a.url,onClick:()=>a.url&&x.get(a.url,{},{preserveState:!0,preserveScroll:!0}),children:a.label},e)}async function Q(a,e){(await Y.fire({title:"Konfirmasi Hapus",text:`Apakah Anda yakin ingin menghapus user "${e}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"})).isConfirmed&&x.delete(`/users/${a}`,{onSuccess:()=>{A.success(`${e} berhasil dihapus`)},onError:V})}function V(){A.error("Gagal menghapus user")}export{me as default};
