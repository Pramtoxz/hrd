import{c as G,r as z,j as t,L as K,a as b,H as O}from"./app-C8bW_nBn.js";import{B as v}from"./createLucideIcon-5Ylf2GGP.js";import{T as E,a as l,b as Y,c as i,d as J,e as Q}from"./table-Bcac-RNS.js";import{B as L}from"./badge-C5dOgw2N.js";import{I as U}from"./input-D3QF7dCh.js";import{D as V,a as W,b as X,c as ee}from"./dialog-Dv54g471.js";import{Z as te,P as se,T as ae,a as re,S as le,A as ie,t as M,C as ne,b as ce}from"./app-layout-C4lJ0TSu.js";import{S as oe}from"./sweetalert2.esm.all-NNS-RXd7.js";/* empty css            */import"./index-BDResBxx.js";import"./index-DkghEuYx.js";import"./index-BWeyt2vI.js";import"./index-CMWG4mbA.js";import"./loader-circle-CY9fjKZv.js";import"./minus-CxOdfr2W.js";const de=[{title:"Dashboard",href:"/dashboard"},{title:"Aset",href:"/asets"}],me=r=>{switch(r){case"Kritis":return"destructive";case"Tinggi":return"default";case"Sedang":return"secondary";case"Rendah":return"outline";default:return"secondary"}},ue=r=>{switch(r){case"Aktif":return"default";case"Maintenance":return"secondary";case"Rusak":return"destructive";case"Dihapus":return"outline";default:return"secondary"}};function De(r){const e=G.c(45),{asets:s,filters:q}=r,[n,F]=z.useState(q.search||""),[_,$]=z.useState(null);let N,y;e[0]!==n?(N=()=>{const a=setTimeout(()=>{b.get("/asets",{search:n},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(a)},y=[n],e[0]=n,e[1]=N,e[2]=y):(N=e[1],y=e[2]),z.useEffect(N,y);const Z=xe;let S;e[3]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx(O,{title:"Aset"}),e[3]=S):S=e[3];let w;e[4]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx("h1",{className:"text-2xl font-bold",children:"Manajemen Aset"}),e[4]=w):w=e[4];let c;e[5]!==s.total?(c=t.jsxs("div",{children:[w,t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total: ",s.total," aset"]})]}),e[5]=s.total,e[6]=c):c=e[6];let C;e[7]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(v,{asChild:!0,children:t.jsxs(K,{href:"/asets/create",children:[t.jsx(re,{className:"mr-2 h-4 w-4"}),"Tambah Aset"]})}),e[7]=C):C=e[7];let o;e[8]!==c?(o=t.jsxs("div",{className:"flex items-center justify-between",children:[c,C]}),e[8]=c,e[9]=o):o=e[9];let k;e[10]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(le,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[10]=k):k=e[10];let T;e[11]===Symbol.for("react.memo_cache_sentinel")?(T=a=>F(a.target.value),e[11]=T):T=e[11];let d;e[12]!==n?(d=t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("div",{className:"relative flex-1 max-w-sm",children:[k,t.jsx(U,{placeholder:"Cari kode, nama, pemilik, atau lokasi...",value:n,onChange:T,className:"pl-9"})]})}),e[12]=n,e[13]=d):d=e[13];let A;e[14]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(Y,{children:t.jsxs(E,{children:[t.jsx(i,{children:"Foto"}),t.jsx(i,{children:"Kode Aset"}),t.jsx(i,{children:"Nama Aset"}),t.jsx(i,{children:"Pemilik"}),t.jsx(i,{children:"Lokasi"}),t.jsx(i,{children:"Kritikalitas"}),t.jsx(i,{children:"Status"}),t.jsx(i,{className:"text-right",children:"Aksi"})]})}),e[14]=A):A=e[14];let m;e[15]!==s.data?(m=s.data.length>0?s.data.map(a=>t.jsxs(E,{children:[t.jsx(l,{children:a.foto_aset?t.jsxs("div",{className:"relative group",children:[t.jsx("img",{src:`/assets/images/foto_aset/${a.foto_aset}`,alt:a.nama_aset,className:"h-12 w-12 object-cover rounded border cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>$({url:`/assets/images/foto_aset/${a.foto_aset}`,name:a.nama_aset})}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/50 rounded cursor-pointer",onClick:()=>$({url:`/assets/images/foto_aset/${a.foto_aset}`,name:a.nama_aset}),children:t.jsx(te,{className:"h-5 w-5 text-white"})})]}):t.jsx("div",{className:"h-12 w-12 bg-muted rounded border flex items-center justify-center text-xs text-muted-foreground",children:"No Img"})}),t.jsx(l,{className:"font-medium",children:t.jsx("code",{className:"rounded bg-muted px-2 py-1 text-sm",children:a.kode_aset})}),t.jsx(l,{children:a.nama_aset}),t.jsx(l,{children:a.pemilik_aset||"-"}),t.jsx(l,{children:a.lokasi||"-"}),t.jsx(l,{children:t.jsx(L,{variant:me(a.kritikalitas),children:a.kritikalitas})}),t.jsx(l,{children:t.jsx(L,{variant:ue(a.status),children:a.status})}),t.jsx(l,{className:"text-right",children:t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(v,{variant:"outline",size:"sm",asChild:!0,children:t.jsx(K,{href:`/asets/${a.id}/edit`,children:t.jsx(se,{className:"h-4 w-4"})})}),t.jsx(v,{variant:"destructive",size:"sm",onClick:()=>Z(a.id,a.nama_aset),children:t.jsx(ae,{className:"h-4 w-4"})})]})})]},a.id)):t.jsx(E,{children:t.jsx(l,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:"Tidak ada data aset"})}),e[15]=s.data,e[16]=m):m=e[16];let u;e[17]!==m?(u=t.jsx("div",{className:"rounded-lg border",children:t.jsxs(J,{children:[A,t.jsx(Q,{children:m})]})}),e[17]=m,e[18]=u):u=e[18];let h;e[19]!==s.current_page||e[20]!==s.last_page||e[21]!==s.links||e[22]!==s.per_page||e[23]!==s.total?(h=s.last_page>1&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Menampilkan ",(s.current_page-1)*s.per_page+1," - ",Math.min(s.current_page*s.per_page,s.total)," dari ",s.total," data"]}),t.jsx("div",{className:"flex gap-1",children:s.links.map(he)})]}),e[19]=s.current_page,e[20]=s.last_page,e[21]=s.links,e[22]=s.per_page,e[23]=s.total,e[24]=h):h=e[24];let x;e[25]!==d||e[26]!==u||e[27]!==h||e[28]!==o?(x=t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 p-4",children:[o,d,u,h]}),e[25]=d,e[26]=u,e[27]=h,e[28]=o,e[29]=x):x=e[29];const H=!!_;let B;e[30]===Symbol.for("react.memo_cache_sentinel")?(B=()=>$(null),e[30]=B):B=e[30];const I=_?.name;let f;e[31]!==I?(f=t.jsx(V,{children:t.jsx(W,{children:I})}),e[31]=I,e[32]=f):f=e[32];const P=_?.url,R=_?.name;let p;e[33]!==P||e[34]!==R?(p=t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("img",{src:P,alt:R,className:"max-h-[70vh] w-auto object-contain rounded-lg"})}),e[33]=P,e[34]=R,e[35]=p):p=e[35];let j;e[36]!==f||e[37]!==p?(j=t.jsxs(X,{className:"max-w-3xl",children:[f,p]}),e[36]=f,e[37]=p,e[38]=j):j=e[38];let g;e[39]!==H||e[40]!==j?(g=t.jsx(ee,{open:H,onOpenChange:B,children:j}),e[39]=H,e[40]=j,e[41]=g):g=e[41];let D;return e[42]!==x||e[43]!==g?(D=t.jsxs(ie,{breadcrumbs:de,children:[S,x,g]}),e[42]=x,e[43]=g,e[44]=D):D=e[44],D}function he(r,e){return r.label==="&laquo; Previous"?t.jsx(v,{variant:"outline",size:"sm",disabled:!r.url,onClick:()=>r.url&&b.get(r.url,{},{preserveState:!0,preserveScroll:!0}),children:t.jsx(ne,{className:"h-4 w-4"})},e):r.label==="Next &raquo;"?t.jsx(v,{variant:"outline",size:"sm",disabled:!r.url,onClick:()=>r.url&&b.get(r.url,{},{preserveState:!0,preserveScroll:!0}),children:t.jsx(ce,{className:"h-4 w-4"})},e):t.jsx(v,{variant:r.active?"default":"outline",size:"sm",disabled:!r.url,onClick:()=>r.url&&b.get(r.url,{},{preserveState:!0,preserveScroll:!0}),children:r.label},e)}async function xe(r,e){(await oe.fire({title:"Konfirmasi Hapus",text:`Apakah Anda yakin ingin menghapus aset "${e}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"})).isConfirmed&&b.delete(`/asets/${r}`,{onSuccess:()=>{M.success(`${e} berhasil dihapus`)},onError:fe})}function fe(){M.error("Gagal menghapus aset")}export{De as default};
